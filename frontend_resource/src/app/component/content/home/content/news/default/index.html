<div>
    <header>
        <ul class="title-ul" style="position: fixed;width: 100%;">
            <li class="title-li">
                <span class="pull-left icon">用户消息</span>
            </li>
            <li class="btn-group-li">
                <ul>
                    <button data-ng-click="$ctrl.data.fun.clean()" ng-disabled="$ctrl.data.interaction.response.query.length<1">
                        <li class="btn-li">
                            <span class="iconfont icon-hotfill"></span>清空消息
                        </li>
                    </button>
                </ul>
            </li>
        </ul>
    </header>
    <article class="first-level-article">
        <table class="thead-table">
            <thead>
                <tr>
                    <th class="first-th">类型</th>
                    <th class="second-th">消息</th>
                    <th class="third-th">时间</th>
                    <th class="forth-th"></th>
                </tr>
            </thead>
            <tbody>
                <tr class="eo-none-tr" ng-if="$ctrl.data.interaction.response.query.length==0">
                    <td colspan="4">尚无任何消息</td>
                </tr>
            </tbody>
        </table>
        <table class="tbody-table" data-ng-repeat='item in $ctrl.data.interaction.response.query'>
            <tbody>
                <tr class="tr-title" data-ng-click="$ctrl.data.fun.read({item:item,$index:$index})" data-ng-class="{'isRead':item.isRead==1}">
                    <th class="first-th">{{item.msgType==0?'系统':'项目'}}</th>
                    <td class="second-th">{{item.summary}}</td>
                    <td class="third-th">{{item.msgSendTime}}</td>
                    <td class="forth-th">
                        <span class="iconfont " ng-class="{'icon-triangledownfill':!item.isClick,'icon-triangleupfill':item.isClick}"></span>
                    </td>
                </tr>
                <tr class="tr-detail" ng-class="{'hidden':!item.isClick}">
                    <td class="first-th"></td>
                    <td colspan="3" class="detail-td">
                        <ul class="detail-ul">
                            <li data-ng-bind-html="item.msg">
                            </li>
                            <li class="function-btn-group">
                                <a class="function-delete" data-ng-click="$ctrl.data.fun.delete({item:item,$index,$index})"><span class="iconfont icon-delete"></span>删除</a>
                            </li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>
    </article>
    <footer class="pageFooter" ng-class="{'hidden':$ctrl.data.interaction.response.query.length<1}">
        <uib-pagination total-items="$ctrl.data.info.pagination.msgCount" items-per-page="$ctrl.data.info.pagination.pageSize" ng-model="$ctrl.data.info.pagination.page" max-size="$ctrl.data.info.pagination.maxSize" class="pagination-sm " boundary-link-Number="true" rotate="false" next-text="&#xe684;" previous-text="&#xe685;" ng-change="$ctrl.data.fun.pageChanged()"></uib-pagination>
    </footer>
    <div load-directive="$ctrl.data.fun.init(arg)">
    </div>
</div>
